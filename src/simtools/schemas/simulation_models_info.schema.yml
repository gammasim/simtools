---
$schema: http://json-schema.org/draft-06/schema#
$ref: '#/definitions/SimulationModelsInfo'
title: Production and simulation model information schema
description: Schema for validating 'info.yml' files used to update CTAO simulation models.
schema_version: 0.1.0
schema_name: simulation_models_info.metaschema
type: object
additionalProperties: false

definitions:
  SimulationModelsInfo:
    properties:
      model_version:
        type: string
        description: The version of the CTAO model.
      model_update:
        type: string
        description: The type of update for the model version.
        enum:
          - patch_update
          - full_update
      model_version_history:
        type: array
        description: A list of previous model versions.
        items:
          type: string
      description:
        type: string
        description: A detailed description of the model changes.
      changes:
        type: object
        description: A map of design names to their parameter changes.
    required:
      - model_version
      - model_update
      - model_version_history
      - description
      - changes

$defs:
  DeprecatedParameter:
    type: object
    properties:
      deprecated:
        type: boolean
        const: true
    required:
      - deprecated
    additionalProperties: false

  ParameterValue:
    type: object
    properties:
      version:
        type: string
      value:
        oneOf:
          - type: string
          - type: number
          - type: boolean
          - type: array
          - type: object
      unit:
        type: string
    required:
      - version
      - value
    additionalProperties: false
