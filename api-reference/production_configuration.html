
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Production Configuration &#8212; simtools</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=92e3e644"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api-reference/production_configuration';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://raw.githubusercontent.com/gammasim/simtools/refs/heads/main/docs/_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'latest';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Ray Tracing" href="ray_tracing.html" />
    <link rel="prev" title="MC Model" href="mc_model.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.1.dev1+g806f1b9" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/simtools_logo.png" class="logo__image only-light" alt="simtools"/>
    <img src="../_static/simtools_logo.png" class="logo__image only-dark pst-js-only" alt="simtools"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user-guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../components/index.html">
    Components
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../data-model/index.html">
    Data Model
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../developer-guide/index.html">
    Developer Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    API Docs
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../changelog.html">
    Changelog
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/gammasim/simtools" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user-guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../components/index.html">
    Components
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../data-model/index.html">
    Data Model
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../developer-guide/index.html">
    Developer Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    API Docs
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../changelog.html">
    Changelog
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/gammasim/simtools" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="camera.html">Camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration_module.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="corsika.html">CORSIKA</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_model.html">Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Dependency and version management.</a></li>
<li class="toctree-l1"><a class="reference internal" href="db_handler.html">Database support</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="job_execution.html">Job execution and submission</a></li>
<li class="toctree-l1"><a class="reference internal" href="array_layout.html">Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="mc_model.html">MC Model</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Production Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="ray_tracing.html">Ray Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting.html">Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="runners.html">Runners for simulation software.</a></li>
<li class="toctree-l1"><a class="reference internal" href="sim_telarray.html">sim_telarray</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulators.html">Simulator</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">API</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Production Configuration</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="production-configuration">
<span id="productionconfiguration"></span><h1>Production Configuration<a class="headerlink" href="#production-configuration" title="Link to this heading">#</a></h1>
<p>Modules provide functionality to configure a simulation production.
This includes the derivation of energy, viewcone radius, and core scatter ranges and
the calculation of the number of events to be simulated given a pre-determined metric.</p>
<section id="module-production_configuration.calculate_statistical_uncertainties_grid_point">
<span id="calculate-statistical-uncertainties-grid-point"></span><span id="calculate-statistical-errors-grid-point"></span><h2>calculate_statistical_uncertainties_grid_point<a class="headerlink" href="#module-production_configuration.calculate_statistical_uncertainties_grid_point" title="Link to this heading">#</a></h2>
<p>Evaluate statistical uncertainties from DL2 MC event files.</p>
<dl class="py class">
<dt class="sig sig-object py" id="production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">production_configuration.calculate_statistical_uncertainties_grid_point.</span></span><span class="sig-name descname"><span class="pre">StatisticalUncertaintyEvaluator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.11/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#tuple" title="(in Python v3.11)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.11/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.11/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.11/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.11/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.11/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.11/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/calculate_statistical_uncertainties_grid_point.html#StatisticalUncertaintyEvaluator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator" title="Link to this definition">#</a></dt>
<dd><p>Evaluate statistical uncertainties for a metric at a point in the observational parameter grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>file_path</strong><span class="classifier">str</span></dt><dd><p>Path to the DL2 MC event file.</p>
</dd>
<dt><strong>metrics</strong><span class="classifier">dict</span></dt><dd><p>Dictionary of metrics to evaluate.</p>
</dd>
<dt><strong>grid_point</strong><span class="classifier">tuple, optional</span></dt><dd><p>Grid point (energy, azimuth, zenith, NSB, offset).</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_energy_estimate">
<span class="sig-name descname"><span class="pre">calculate_energy_estimate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/calculate_statistical_uncertainties_grid_point.html#StatisticalUncertaintyEvaluator.calculate_energy_estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_energy_estimate" title="Link to this definition">#</a></dt>
<dd><p>Calculate the uncertainties in energy estimation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>float</dt><dd><p>The calculated uncertainty for energy estimation.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_energy_threshold">
<span class="sig-name descname"><span class="pre">calculate_energy_threshold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">requested_eff_area_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/calculate_statistical_uncertainties_grid_point.html#StatisticalUncertaintyEvaluator.calculate_energy_threshold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_energy_threshold" title="Link to this definition">#</a></dt>
<dd><p>Calculate the energy threshold where the effective area exceeds 10% of its maximum value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>float</dt><dd><p>Energy threshold value.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_max_error_for_effective_area">
<span class="sig-name descname"><span class="pre">calculate_max_error_for_effective_area</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/calculate_statistical_uncertainties_grid_point.html#StatisticalUncertaintyEvaluator.calculate_max_error_for_effective_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_max_error_for_effective_area" title="Link to this definition">#</a></dt>
<dd><p>Calculate the maximum relative uncertainty for effective area within the validity range.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>max_error</strong><span class="classifier">float</span></dt><dd><p>Maximum relative error.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_metrics">
<span class="sig-name descname"><span class="pre">calculate_metrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/calculate_statistical_uncertainties_grid_point.html#StatisticalUncertaintyEvaluator.calculate_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_metrics" title="Link to this definition">#</a></dt>
<dd><p>Calculate all defined metrics as specified in self.metrics and store results.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_overall_metric">
<span class="sig-name descname"><span class="pre">calculate_overall_metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'average'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/calculate_statistical_uncertainties_grid_point.html#StatisticalUncertaintyEvaluator.calculate_overall_metric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_overall_metric" title="Link to this definition">#</a></dt>
<dd><p>Calculate an overall metric for the statistical uncertainties.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>metric</strong><span class="classifier">str</span></dt><dd><p>The metric to calculate (‘average’, ‘maximum’).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>float</dt><dd><p>The overall metric value.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_uncertainty_effective_area">
<span class="sig-name descname"><span class="pre">calculate_uncertainty_effective_area</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/calculate_statistical_uncertainties_grid_point.html#StatisticalUncertaintyEvaluator.calculate_uncertainty_effective_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_uncertainty_effective_area" title="Link to this definition">#</a></dt>
<dd><p>Calculate the uncertainties on the effective collection area.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>dict</dt><dd><p>Dictionary with uncertainties for the file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.compute_efficiency_and_uncertainties">
<span class="sig-name descname"><span class="pre">compute_efficiency_and_uncertainties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reconstructed_event_counts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulated_event_counts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/calculate_statistical_uncertainties_grid_point.html#StatisticalUncertaintyEvaluator.compute_efficiency_and_uncertainties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.compute_efficiency_and_uncertainties" title="Link to this definition">#</a></dt>
<dd><p>Compute reconstructed event efficiency and its uncertainty assuming binomial distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>reconstructed_event_counts</strong><span class="classifier">array with units</span></dt><dd><p>Histogram counts of reconstructed events.</p>
</dd>
<dt><strong>simulated_event_counts</strong><span class="classifier">array with units</span></dt><dd><p>Histogram counts of simulated events.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>efficiencies</strong><span class="classifier">array</span></dt><dd><p>Array of calculated efficiencies.</p>
</dd>
<dt><strong>relative_uncertainties</strong><span class="classifier">array</span></dt><dd><p>Array of relative uncertainties.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.compute_reconstructed_event_histogram">
<span class="sig-name descname"><span class="pre">compute_reconstructed_event_histogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event_energies_reco</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_edges</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/calculate_statistical_uncertainties_grid_point.html#StatisticalUncertaintyEvaluator.compute_reconstructed_event_histogram"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.compute_reconstructed_event_histogram" title="Link to this definition">#</a></dt>
<dd><p>Compute histogram of events as function of reconstructed energy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>event_energies_reco</strong><span class="classifier">array</span></dt><dd><p>Array of reconstructed energy per event.</p>
</dd>
<dt><strong>bin_edges</strong><span class="classifier">array</span></dt><dd><p>Array of energy bin edges.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>reconstructed_event_histogram</strong><span class="classifier">array</span></dt><dd><p>Histogram of reconstructed events.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.create_energy_bin_edges">
<span class="sig-name descname"><span class="pre">create_energy_bin_edges</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/calculate_statistical_uncertainties_grid_point.html#StatisticalUncertaintyEvaluator.create_energy_bin_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.create_energy_bin_edges" title="Link to this definition">#</a></dt>
<dd><p>Create unique energy bin edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>bin_edges</strong><span class="classifier">array</span></dt><dd><p>Array of unique energy bin edges.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.load_data_from_file">
<span class="sig-name descname"><span class="pre">load_data_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/calculate_statistical_uncertainties_grid_point.html#StatisticalUncertaintyEvaluator.load_data_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.load_data_from_file" title="Link to this definition">#</a></dt>
<dd><p>Load data from the DL2 MC event file and return dictionaries with units.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>dict</dt><dd><p>Dictionary containing data from the DL2 MC event file with units.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-production_configuration.corsika_limit_calculator">
<span id="corsika-limit-calculator"></span><span id="derive-corsika-limits"></span><h2>corsika_limit_calculator<a class="headerlink" href="#module-production_configuration.corsika_limit_calculator" title="Link to this heading">#</a></h2>
<p>Calculate CORSIKA thresholds for energy, radial distance, and viewcone.</p>
<dl class="py class">
<dt class="sig sig-object py" id="production_configuration.corsika_limit_calculator.LimitCalculator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">production_configuration.corsika_limit_calculator.</span></span><span class="sig-name descname"><span class="pre">LimitCalculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event_data_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">telescope_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/corsika_limit_calculator.html#LimitCalculator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.corsika_limit_calculator.LimitCalculator" title="Link to this definition">#</a></dt>
<dd><p>Compute limits for CORSIKA configuration for energy, radial distance, and viewcone.</p>
<p>Event data is read from the reduced MC event data file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>event_data_file</strong><span class="classifier">str</span></dt><dd><p>Path to the event-data file.</p>
</dd>
<dt><strong>array_name</strong><span class="classifier">str, optional</span></dt><dd><p>Name of the telescope array configuration (default is None).</p>
</dd>
<dt><strong>telescope_list</strong><span class="classifier">list, optional</span></dt><dd><p>List of telescope IDs to filter the events (default is None).</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.corsika_limit_calculator.LimitCalculator.compute_limits">
<span class="sig-name descname"><span class="pre">compute_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loss_fraction</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/corsika_limit_calculator.html#LimitCalculator.compute_limits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.corsika_limit_calculator.LimitCalculator.compute_limits" title="Link to this definition">#</a></dt>
<dd><p>Compute the limits for energy, radial distance, and viewcone.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>loss_fraction</strong><span class="classifier">float</span></dt><dd><p>Fraction of events to be lost.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><p>Dictionary containing the computed limits.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.corsika_limit_calculator.LimitCalculator.compute_lower_energy_limit">
<span class="sig-name descname"><span class="pre">compute_lower_energy_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loss_fraction</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/corsika_limit_calculator.html#LimitCalculator.compute_lower_energy_limit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.corsika_limit_calculator.LimitCalculator.compute_lower_energy_limit" title="Link to this definition">#</a></dt>
<dd><p>Compute the lower energy limit in TeV based on the event loss fraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>loss_fraction</strong><span class="classifier">float</span></dt><dd><p>Fraction of events to be lost.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>astropy.units.Quantity</dt><dd><p>Lower energy limit.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.corsika_limit_calculator.LimitCalculator.compute_upper_radius_limit">
<span class="sig-name descname"><span class="pre">compute_upper_radius_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loss_fraction</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/corsika_limit_calculator.html#LimitCalculator.compute_upper_radius_limit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.corsika_limit_calculator.LimitCalculator.compute_upper_radius_limit" title="Link to this definition">#</a></dt>
<dd><p>Compute the upper radial distance based on the event loss fraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>loss_fraction</strong><span class="classifier">float</span></dt><dd><p>Fraction of events to be lost.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>astropy.units.Quantity</dt><dd><p>Upper radial distance in m.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.corsika_limit_calculator.LimitCalculator.compute_viewcone">
<span class="sig-name descname"><span class="pre">compute_viewcone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loss_fraction</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/corsika_limit_calculator.html#LimitCalculator.compute_viewcone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.corsika_limit_calculator.LimitCalculator.compute_viewcone" title="Link to this definition">#</a></dt>
<dd><p>Compute the viewcone based on the event loss fraction.</p>
<p>The shower IDs of triggered events are used to create a mask for the
azimuth and altitude of the triggered events. A mapping is created
between the triggered events and the simulated events using the shower IDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>loss_fraction</strong><span class="classifier">float</span></dt><dd><p>Fraction of events to be lost.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>astropy.units.Quantity</dt><dd><p>Viewcone radius in degrees.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="production_configuration.corsika_limit_calculator.LimitCalculator.core_distance_bins">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">core_distance_bins</span></span><a class="headerlink" href="#production_configuration.corsika_limit_calculator.LimitCalculator.core_distance_bins" title="Link to this definition">#</a></dt>
<dd><p>Return bins for the core distance histogram.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="production_configuration.corsika_limit_calculator.LimitCalculator.energy_bins">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">energy_bins</span></span><a class="headerlink" href="#production_configuration.corsika_limit_calculator.LimitCalculator.energy_bins" title="Link to this definition">#</a></dt>
<dd><p>Return bins for the energy histogram.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.corsika_limit_calculator.LimitCalculator.plot_data">
<span class="sig-name descname"><span class="pre">plot_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rebin_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/corsika_limit_calculator.html#LimitCalculator.plot_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.corsika_limit_calculator.LimitCalculator.plot_data" title="Link to this definition">#</a></dt>
<dd><p>Histogram plotting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>output_path: Path or str, optional</strong></dt><dd><p>Directory to save plots. If None, plots will be displayed.</p>
</dd>
<dt><strong>rebin_factor: int, optional</strong></dt><dd><p>Factor by which to reduce the number of bins in 2D histograms for rebinned plots.
Default is 2 (merge every 2 bins). Set to 0 or 1 to disable rebinning.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="production_configuration.corsika_limit_calculator.LimitCalculator.view_cone_bins">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">view_cone_bins</span></span><a class="headerlink" href="#production_configuration.corsika_limit_calculator.LimitCalculator.view_cone_bins" title="Link to this definition">#</a></dt>
<dd><p>Return bins for the viewcone histogram.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-production_configuration.derive_corsika_limits">
<span id="id1"></span><span id="derive-corsika-limits-grid"></span><h2>derive_corsika_limits<a class="headerlink" href="#module-production_configuration.derive_corsika_limits" title="Link to this heading">#</a></h2>
<p>Derive CORSIKA limits from a reduced event data file.</p>
<dl class="py function">
<dt class="sig sig-object py" id="production_configuration.derive_corsika_limits.generate_corsika_limits_grid">
<span class="sig-prename descclassname"><span class="pre">production_configuration.derive_corsika_limits.</span></span><span class="sig-name descname"><span class="pre">generate_corsika_limits_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/derive_corsika_limits.html#generate_corsika_limits_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.derive_corsika_limits.generate_corsika_limits_grid" title="Link to this definition">#</a></dt>
<dd><p>Generate CORSIKA limits.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>args_dict</strong><span class="classifier">dict</span></dt><dd><p>Dictionary containing command line arguments.</p>
</dd>
<dt><strong>db_config</strong><span class="classifier">dict, optional</span></dt><dd><p>Database configuration dictionary.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="production_configuration.derive_corsika_limits.write_results">
<span class="sig-prename descclassname"><span class="pre">production_configuration.derive_corsika_limits.</span></span><span class="sig-name descname"><span class="pre">write_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/derive_corsika_limits.html#write_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.derive_corsika_limits.write_results" title="Link to this definition">#</a></dt>
<dd><p>Write the computed limits as astropy table to file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>results</strong><span class="classifier">list[dict]</span></dt><dd><p>List of computed limits.</p>
</dd>
<dt><strong>args_dict</strong><span class="classifier">dict</span></dt><dd><p>Dictionary containing command line arguments.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-production_configuration.derive_production_statistics">
<span id="id2"></span><span id="derive-production-statistics"></span><h2>derive_production_statistics<a class="headerlink" href="#module-production_configuration.derive_production_statistics" title="Link to this heading">#</a></h2>
<p>Calculate the event production statistics based on metrics.</p>
<p>Module for calculating the production event statistics based on statistical error metrics.
Contains the <a class="reference internal" href="#production_configuration.derive_production_statistics.ProductionStatisticsDerivator" title="production_configuration.derive_production_statistics.ProductionStatisticsDerivator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProductionStatisticsDerivator</span></code></a> class, which derives the number of events for
both the entire dataset and specific grid points. Event statistic is calculated using error
metrics and the evaluator’s results.</p>
<dl class="py class">
<dt class="sig sig-object py" id="production_configuration.derive_production_statistics.ProductionStatisticsDerivator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">production_configuration.derive_production_statistics.</span></span><span class="sig-name descname"><span class="pre">ProductionStatisticsDerivator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/derive_production_statistics.html#ProductionStatisticsDerivator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.derive_production_statistics.ProductionStatisticsDerivator" title="Link to this definition">#</a></dt>
<dd><p>Derives the production statistics based on statistical error metrics.</p>
<p>Supports deriving statistics for both the entire dataset and
specific grid points like energy values.</p>
<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.derive_production_statistics.ProductionStatisticsDerivator.calculate_production_statistics_at_grid_point">
<span class="sig-name descname"><span class="pre">calculate_production_statistics_at_grid_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#tuple" title="(in Python v3.11)"><span class="pre">tuple</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v7.2)"><span class="pre">Quantity</span></a></span></span><a class="reference internal" href="../_modules/production_configuration/derive_production_statistics.html#ProductionStatisticsDerivator.calculate_production_statistics_at_grid_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.derive_production_statistics.ProductionStatisticsDerivator.calculate_production_statistics_at_grid_point" title="Link to this definition">#</a></dt>
<dd><p>Derive the production statistics for a specific energy grid point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>grid_point</strong><span class="classifier">tuple</span></dt><dd><p>The grid point specifying energy, azimuth, zenith, NSB, and offset.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>float</dt><dd><p>The derived production statistics at the specified grid point (energy).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.derive_production_statistics.ProductionStatisticsDerivator.derive_statistics">
<span class="sig-name descname"><span class="pre">derive_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_sum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v7.2)"><span class="pre">Quantity</span></a></span></span><a class="reference internal" href="../_modules/production_configuration/derive_production_statistics.html#ProductionStatisticsDerivator.derive_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.derive_production_statistics.ProductionStatisticsDerivator.derive_statistics" title="Link to this definition">#</a></dt>
<dd><p>Derive the production statistics based on statistical error metrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>return_sum</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, returns the sum of production statistics for the entire set of MC events.
If False, returns the production statistics for each grid point along the energy axis.
Default is True.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>u.Quantity</dt><dd><p>If ‘return_sum’ is True, returns the total
derived production statistics as a u.Quantity.
If ‘return_sum’ is False, returns an array of production statistics along the energy
axis as a u.Quantity.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-production_configuration.derive_production_statistics_handler">
<span id="id3"></span><span id="derive-production-statistics-handler"></span><h2>derive_production_statistics_handler<a class="headerlink" href="#module-production_configuration.derive_production_statistics_handler" title="Link to this heading">#</a></h2>
<p>Derives the required statistics for a requested set of production parameters through interpolation.</p>
<p>This module provides the <a class="reference internal" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler" title="production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProductionStatisticsHandler</span></code></a> class, which manages the workflow for
derivation of required number of events for a simulation production using pre-defined metrics.</p>
<p>The module includes functionality to:
- Initialize evaluators for statistical uncertainty calculations based on input parameters.
- Perform interpolation using the initialized evaluators to estimate production statistics at a
query point.
- Write the results of the interpolation to an output file.</p>
<dl class="py class">
<dt class="sig sig-object py" id="production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">production_configuration.derive_production_statistics_handler.</span></span><span class="sig-name descname"><span class="pre">ProductionStatisticsHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/derive_production_statistics_handler.html#ProductionStatisticsHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler" title="Link to this definition">#</a></dt>
<dd><p>Handles the workflow for deriving production statistics.</p>
<p>This class manages the evaluation of statistical uncertainties from DL2 MC event files
and performs interpolation to estimate the required number of events for a simulation
production at a specified query point.</p>
<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.initialize_evaluators">
<span class="sig-name descname"><span class="pre">initialize_evaluators</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/derive_production_statistics_handler.html#ProductionStatisticsHandler.initialize_evaluators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.initialize_evaluators" title="Link to this definition">#</a></dt>
<dd><p>Initialize StatisticalUncertaintyEvaluator instances for the given grid point.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.perform_interpolation">
<span class="sig-name descname"><span class="pre">perform_interpolation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/derive_production_statistics_handler.html#ProductionStatisticsHandler.perform_interpolation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.perform_interpolation" title="Link to this definition">#</a></dt>
<dd><p>Perform interpolation for the query point.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.plot_production_statistics_comparison">
<span class="sig-name descname"><span class="pre">plot_production_statistics_comparison</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/derive_production_statistics_handler.html#ProductionStatisticsHandler.plot_production_statistics_comparison"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.plot_production_statistics_comparison" title="Link to this definition">#</a></dt>
<dd><p>Plot the derived event statistics.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/derive_production_statistics_handler.html#ProductionStatisticsHandler.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.run" title="Link to this definition">#</a></dt>
<dd><p>Run the scaling and interpolation workflow.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.write_output">
<span class="sig-name descname"><span class="pre">write_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">production_statistics</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/derive_production_statistics_handler.html#ProductionStatisticsHandler.write_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.write_output" title="Link to this definition">#</a></dt>
<dd><p>Write the derived event statistics to a file.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-production_configuration.generate_production_grid">
<span id="id4"></span><span id="generate-production-grid"></span><h2>generate_production_grid<a class="headerlink" href="#module-production_configuration.generate_production_grid" title="Link to this heading">#</a></h2>
<p>Module defines the <a class="reference internal" href="#production_configuration.generate_production_grid.GridGeneration" title="production_configuration.generate_production_grid.GridGeneration"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GridGeneration</span></code></a> class.</p>
<p>Used to generate a grid of simulation points based on flexible axes definitions such
azimuth, zenith angle, night-sky background, and camera offset.
The module handles axis binning, scaling and interpolation of energy thresholds, viewcone,
and radius limits from a lookup table.
Additionally, it allows for converting between Altitude/Azimuth and Right Ascension
Declination coordinates. The resulting grid points are saved to a file.</p>
<dl class="py class">
<dt class="sig sig-object py" id="production_configuration.generate_production_grid.GridGeneration">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">production_configuration.generate_production_grid.</span></span><span class="sig-name descname"><span class="pre">GridGeneration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_system</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'zenith_azimuth'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observing_location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observing_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookup_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.11/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">telescope_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.11/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/generate_production_grid.html#GridGeneration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.generate_production_grid.GridGeneration" title="Link to this definition">#</a></dt>
<dd><p>Defines and generates a grid of simulation points based on flexible axes definitions.</p>
<p>This class generates a grid of points for a simulation based on parameters such as
azimuth, zenith angle, night-sky background, and camera offset,
taking into account axis definitions, scaling, and units and interpolating values
for simulations from a lookup table.</p>
<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.generate_production_grid.GridGeneration.convert_altaz_to_radec">
<span class="sig-name descname"><span class="pre">convert_altaz_to_radec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">az</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/generate_production_grid.html#GridGeneration.convert_altaz_to_radec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.generate_production_grid.GridGeneration.convert_altaz_to_radec" title="Link to this definition">#</a></dt>
<dd><p>Convert Altitude/Azimuth (AltAz) coordinates to Right Ascension/Declination (RA/Dec).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>alt</strong><span class="classifier">float</span></dt><dd><p>Altitude angle in degrees.</p>
</dd>
<dt><strong>az</strong><span class="classifier">float</span></dt><dd><p>Azimuth angle in degrees.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>SkyCoord</dt><dd><p>SkyCoord object containing the RA/Dec coordinates.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If observing_time is not set.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.generate_production_grid.GridGeneration.convert_coordinates">
<span class="sig-name descname"><span class="pre">convert_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/production_configuration/generate_production_grid.html#GridGeneration.convert_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.generate_production_grid.GridGeneration.convert_coordinates" title="Link to this definition">#</a></dt>
<dd><p>Convert the grid points to RA/Dec coordinates if necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>grid_points</strong><span class="classifier">list of dict</span></dt><dd><dl class="simple">
<dt>List of grid points, each represented as a dictionary with axis</dt><dd><p>names as keys and values.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list of dict</dt><dd><p>The grid points with converted RA/Dec coordinates.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.generate_production_grid.GridGeneration.create_circular_binning">
<span class="sig-name descname"><span class="pre">create_circular_binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">azimuth_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bins</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/generate_production_grid.html#GridGeneration.create_circular_binning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.generate_production_grid.GridGeneration.create_circular_binning" title="Link to this definition">#</a></dt>
<dd><p>Create bin centers for azimuth angles, handling circular wraparound (0 deg to 360 deg).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>azimuth_range</strong><span class="classifier">tuple</span></dt><dd><p>(min_azimuth, max_azimuth), can wrap around 0 deg.</p>
</dd>
<dt><strong>num_bins</strong><span class="classifier">int</span></dt><dd><p>Number of bins.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>np.ndarray</dt><dd><p>Array of bin centers.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.generate_production_grid.GridGeneration.generate_grid">
<span class="sig-name descname"><span class="pre">generate_grid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/production_configuration/generate_production_grid.html#GridGeneration.generate_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.generate_production_grid.GridGeneration.generate_grid" title="Link to this definition">#</a></dt>
<dd><p>Generate the grid based on the required axes and include interpolated limits.</p>
<p>Takes energy threshold, viewcone, and radius from the interpolated lookup table.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>list of dict</dt><dd><p>A list of grid points, each represented as a dictionary with axis names
as keys and axis values as values. Axis values may include units where defined.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.generate_production_grid.GridGeneration.serialize_grid_points">
<span class="sig-name descname"><span class="pre">serialize_grid_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/generate_production_grid.html#GridGeneration.serialize_grid_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.generate_production_grid.GridGeneration.serialize_grid_points" title="Link to this definition">#</a></dt>
<dd><p>Serialize the grid output and save to a file or print to the console.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.generate_production_grid.GridGeneration.serialize_quantity">
<span class="sig-name descname"><span class="pre">serialize_quantity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/generate_production_grid.html#GridGeneration.serialize_quantity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.generate_production_grid.GridGeneration.serialize_quantity" title="Link to this definition">#</a></dt>
<dd><p>Serialize Quantity.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-production_configuration.interpolation_handler">
<span id="id5"></span><span id="interpolation-handler"></span><h2>interpolation_handler<a class="headerlink" href="#module-production_configuration.interpolation_handler" title="Link to this heading">#</a></h2>
<p>Handle interpolation between multiple StatisticalUncertaintyEvaluator instances.</p>
<dl class="py class">
<dt class="sig sig-object py" id="production_configuration.interpolation_handler.InterpolationHandler">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">production_configuration.interpolation_handler.</span></span><span class="sig-name descname"><span class="pre">InterpolationHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluators</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_points_production</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.11/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/interpolation_handler.html#InterpolationHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.interpolation_handler.InterpolationHandler" title="Link to this definition">#</a></dt>
<dd><p>Calculate the required events for production via interpolation from a grid.</p>
<p>This class provides methods to interpolate production statistics across a grid of
parameter values (azimuth, zenith, NSB, offset) and energy.</p>
<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.interpolation_handler.InterpolationHandler.build_grid_points_no_energy">
<span class="sig-name descname"><span class="pre">build_grid_points_no_energy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/interpolation_handler.html#InterpolationHandler.build_grid_points_no_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.interpolation_handler.InterpolationHandler.build_grid_points_no_energy" title="Link to this definition">#</a></dt>
<dd><p>Build grid points without energy dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>tuple</dt><dd><p>(production_statistics, grid_points_no_energy)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.interpolation_handler.InterpolationHandler.interpolate">
<span class="sig-name descname"><span class="pre">interpolate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><span class="pre">ndarray</span></a></span></span><a class="reference internal" href="../_modules/production_configuration/interpolation_handler.html#InterpolationHandler.interpolate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.interpolation_handler.InterpolationHandler.interpolate" title="Link to this definition">#</a></dt>
<dd><p>Interpolate production statistics at the grid points specified in grid_points_production.</p>
<p>This method performs two types of interpolation:
1. Energy-independent interpolation using the sum of production statistics
2. Energy-dependent interpolation for each energy bin</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>np.ndarray</dt><dd><p>Interpolated values at the query points.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.interpolation_handler.InterpolationHandler.plot_comparison">
<span class="sig-name descname"><span class="pre">plot_comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_point_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/interpolation_handler.html#InterpolationHandler.plot_comparison"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.interpolation_handler.InterpolationHandler.plot_comparison" title="Link to this definition">#</a></dt>
<dd><p>Plot a comparison between interpolated production statistics and reconstructed events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>grid_point_index</strong><span class="classifier">int, optional</span></dt><dd><p>Index of the grid point to plot, by default 0</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>matplotlib.axes.Axes</dt><dd><p>The Axes object containing the plot.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-production_configuration.merge_corsika_limits">
<span id="id6"></span><span id="merge-corsika-limits"></span><h2>merge_corsika_limits<a class="headerlink" href="#module-production_configuration.merge_corsika_limits" title="Link to this heading">#</a></h2>
<p>Class for merging CORSIKA limit tables and checking grid completeness.</p>
<dl class="py class">
<dt class="sig sig-object py" id="production_configuration.merge_corsika_limits.CorsikaMergeLimits">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">production_configuration.merge_corsika_limits.</span></span><span class="sig-name descname"><span class="pre">CorsikaMergeLimits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/merge_corsika_limits.html#CorsikaMergeLimits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits" title="Link to this definition">#</a></dt>
<dd><p>Class for merging CORSIKA limit tables and checking grid completeness.</p>
<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.merge_corsika_limits.CorsikaMergeLimits.check_grid_completeness">
<span class="sig-name descname"><span class="pre">check_grid_completeness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">merged_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_definition</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/merge_corsika_limits.html#CorsikaMergeLimits.check_grid_completeness"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.check_grid_completeness" title="Link to this definition">#</a></dt>
<dd><p>Check if the grid is complete by verifying all expected combinations exist.</p>
<p>This function checks whether all combinations of zenith, azimuth, nsb_level, and array_name
specified in the grid_definition are present in the merged_table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>merged_table</strong><span class="classifier">astropy.table.Table</span></dt><dd><p>The merged table containing CORSIKA limit data.</p>
</dd>
<dt><strong>grid_definition</strong><span class="classifier">dict</span></dt><dd><p>Dictionary defining the grid dimensions with keys:
‘zenith’: list of zenith angles,
‘azimuth’: list of azimuth angles,
‘nsb_level’: list of NSB levels,
‘array_name’: list of array name</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>tuple</dt><dd><p>A tuple containing: is_complete (bool) that is True if all expected combinations
are found in the table, and info_dict (dict) with detailed information about the
completeness check including expected points, found points, and missing combinations.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.merge_corsika_limits.CorsikaMergeLimits.merge_tables">
<span class="sig-name descname"><span class="pre">merge_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_files</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/merge_corsika_limits.html#CorsikaMergeLimits.merge_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.merge_tables" title="Link to this definition">#</a></dt>
<dd><p>Merge multiple CORSIKA limit tables into a single table.</p>
<p>This function reads and merges CORSIKA limit tables from multiple files,
handling duplicate grid points by checking for consistency and raising an
error if inconsistent duplicates are found. It also converts the loss_fraction
value from metadata to a table column and logs a message if multiple
loss_fraction values are found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>input_files</strong><span class="classifier">list of Path or str</span></dt><dd><p>List of paths to CORSIKA limit table files to merge.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>astropy.table.Table</dt><dd><p>The merged table with duplicates removed, containing all rows from input files.
The table will be sorted by array_name, zenith, azimuth, and nsb_level.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If inconsistent duplicate grid points are found.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.merge_corsika_limits.CorsikaMergeLimits.plot_grid_coverage">
<span class="sig-name descname"><span class="pre">plot_grid_coverage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">merged_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_definition</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/merge_corsika_limits.html#CorsikaMergeLimits.plot_grid_coverage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.plot_grid_coverage" title="Link to this definition">#</a></dt>
<dd><p>Generate plots showing grid coverage for each combination of NSB level and array name.</p>
<p>Creates a series of heatmap plots showing which grid points (combinations of zenith and
azimuth angles) are present or missing in the merged table, for each combination of
NSB level and array name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>merged_table</strong><span class="classifier">astropy.table.Table</span></dt><dd><p>The merged table containing CORSIKA limit data.</p>
</dd>
<dt><strong>grid_definition</strong><span class="classifier">dict</span></dt><dd><p>Dictionary defining the grid dimensions with keys:
‘zenith’: list of zenith angles,
‘azimuth’: list of azimuth angles,
‘nsb_level’: list of NSB levels,
‘array_name’: list of array names</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list</dt><dd><p>List of Path objects pointing to the saved plot files.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.merge_corsika_limits.CorsikaMergeLimits.plot_limits">
<span class="sig-name descname"><span class="pre">plot_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">merged_table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/merge_corsika_limits.html#CorsikaMergeLimits.plot_limits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.plot_limits" title="Link to this definition">#</a></dt>
<dd><p>Create plots showing the derived limits for each combination of array_name and azimuth.</p>
<p>Creates plots showing the lower energy limit, upper radius limit, and viewcone radius
versus zenith angle for each combination of array_name and azimuth angle. Each plot has
lines for different NSB levels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>merged_table</strong><span class="classifier">astropy.table.Table</span></dt><dd><p>The merged table containing CORSIKA limit data.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list</dt><dd><p>List of Path objects pointing to the saved plot files.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.merge_corsika_limits.CorsikaMergeLimits.read_file_list">
<span class="sig-name descname"><span class="pre">read_file_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_list_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/merge_corsika_limits.html#CorsikaMergeLimits.read_file_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.read_file_list" title="Link to this definition">#</a></dt>
<dd><p>Read a list of input files from a text file.</p>
<p>The text file should contain one file path per line.
Lines starting with ‘#’ are treated as comments and ignored.
Empty lines are also ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>file_list_path</strong><span class="classifier">Path or str</span></dt><dd><p>Path to the text file containing the list of input files.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list</dt><dd><p>List of Path objects for the input files.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>FileNotFoundError</dt><dd><p>If the file list does not exist.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="production_configuration.merge_corsika_limits.CorsikaMergeLimits.write_merged_table">
<span class="sig-name descname"><span class="pre">write_merged_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">merged_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_completeness</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/production_configuration/merge_corsika_limits.html#CorsikaMergeLimits.write_merged_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.write_merged_table" title="Link to this definition">#</a></dt>
<dd><p>Write the merged table to file and save metadata.</p>
<p>Writes the merged table to the specified output file in ECSV format and
saves relevant metadata about the merge process, including input files,
grid completeness statistics, and row count.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>merged_table</strong><span class="classifier">astropy.table.Table</span></dt><dd><p>The merged table to write to file.</p>
</dd>
<dt><strong>output_file</strong><span class="classifier">Path or str</span></dt><dd><p>Path where the merged table will be written.</p>
</dd>
<dt><strong>input_files</strong><span class="classifier">list of Path or str</span></dt><dd><p>List of input files used to create the merged table.</p>
</dd>
<dt><strong>grid_completeness</strong><span class="classifier">dict</span></dt><dd><p>Dictionary with grid completeness information from check_grid_completeness.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>Path or str</dt><dd><p>The path to the written file (same as output_file).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="mc_model.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">MC Model</p>
      </div>
    </a>
    <a class="right-next"
       href="ray_tracing.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Ray Tracing</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-production_configuration.calculate_statistical_uncertainties_grid_point">calculate_statistical_uncertainties_grid_point</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator"><code class="docutils literal notranslate"><span class="pre">StatisticalUncertaintyEvaluator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_energy_estimate"><code class="docutils literal notranslate"><span class="pre">StatisticalUncertaintyEvaluator.calculate_energy_estimate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_energy_threshold"><code class="docutils literal notranslate"><span class="pre">StatisticalUncertaintyEvaluator.calculate_energy_threshold()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_max_error_for_effective_area"><code class="docutils literal notranslate"><span class="pre">StatisticalUncertaintyEvaluator.calculate_max_error_for_effective_area()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_metrics"><code class="docutils literal notranslate"><span class="pre">StatisticalUncertaintyEvaluator.calculate_metrics()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_overall_metric"><code class="docutils literal notranslate"><span class="pre">StatisticalUncertaintyEvaluator.calculate_overall_metric()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.calculate_uncertainty_effective_area"><code class="docutils literal notranslate"><span class="pre">StatisticalUncertaintyEvaluator.calculate_uncertainty_effective_area()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.compute_efficiency_and_uncertainties"><code class="docutils literal notranslate"><span class="pre">StatisticalUncertaintyEvaluator.compute_efficiency_and_uncertainties()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.compute_reconstructed_event_histogram"><code class="docutils literal notranslate"><span class="pre">StatisticalUncertaintyEvaluator.compute_reconstructed_event_histogram()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.create_energy_bin_edges"><code class="docutils literal notranslate"><span class="pre">StatisticalUncertaintyEvaluator.create_energy_bin_edges()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.calculate_statistical_uncertainties_grid_point.StatisticalUncertaintyEvaluator.load_data_from_file"><code class="docutils literal notranslate"><span class="pre">StatisticalUncertaintyEvaluator.load_data_from_file()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-production_configuration.corsika_limit_calculator">corsika_limit_calculator</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.corsika_limit_calculator.LimitCalculator"><code class="docutils literal notranslate"><span class="pre">LimitCalculator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.corsika_limit_calculator.LimitCalculator.compute_limits"><code class="docutils literal notranslate"><span class="pre">LimitCalculator.compute_limits()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.corsika_limit_calculator.LimitCalculator.compute_lower_energy_limit"><code class="docutils literal notranslate"><span class="pre">LimitCalculator.compute_lower_energy_limit()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.corsika_limit_calculator.LimitCalculator.compute_upper_radius_limit"><code class="docutils literal notranslate"><span class="pre">LimitCalculator.compute_upper_radius_limit()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.corsika_limit_calculator.LimitCalculator.compute_viewcone"><code class="docutils literal notranslate"><span class="pre">LimitCalculator.compute_viewcone()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.corsika_limit_calculator.LimitCalculator.core_distance_bins"><code class="docutils literal notranslate"><span class="pre">LimitCalculator.core_distance_bins</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.corsika_limit_calculator.LimitCalculator.energy_bins"><code class="docutils literal notranslate"><span class="pre">LimitCalculator.energy_bins</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.corsika_limit_calculator.LimitCalculator.plot_data"><code class="docutils literal notranslate"><span class="pre">LimitCalculator.plot_data()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.corsika_limit_calculator.LimitCalculator.view_cone_bins"><code class="docutils literal notranslate"><span class="pre">LimitCalculator.view_cone_bins</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-production_configuration.derive_corsika_limits">derive_corsika_limits</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.derive_corsika_limits.generate_corsika_limits_grid"><code class="docutils literal notranslate"><span class="pre">generate_corsika_limits_grid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.derive_corsika_limits.write_results"><code class="docutils literal notranslate"><span class="pre">write_results()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-production_configuration.derive_production_statistics">derive_production_statistics</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.derive_production_statistics.ProductionStatisticsDerivator"><code class="docutils literal notranslate"><span class="pre">ProductionStatisticsDerivator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.derive_production_statistics.ProductionStatisticsDerivator.calculate_production_statistics_at_grid_point"><code class="docutils literal notranslate"><span class="pre">ProductionStatisticsDerivator.calculate_production_statistics_at_grid_point()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.derive_production_statistics.ProductionStatisticsDerivator.derive_statistics"><code class="docutils literal notranslate"><span class="pre">ProductionStatisticsDerivator.derive_statistics()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-production_configuration.derive_production_statistics_handler">derive_production_statistics_handler</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler"><code class="docutils literal notranslate"><span class="pre">ProductionStatisticsHandler</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.initialize_evaluators"><code class="docutils literal notranslate"><span class="pre">ProductionStatisticsHandler.initialize_evaluators()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.perform_interpolation"><code class="docutils literal notranslate"><span class="pre">ProductionStatisticsHandler.perform_interpolation()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.plot_production_statistics_comparison"><code class="docutils literal notranslate"><span class="pre">ProductionStatisticsHandler.plot_production_statistics_comparison()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.run"><code class="docutils literal notranslate"><span class="pre">ProductionStatisticsHandler.run()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.derive_production_statistics_handler.ProductionStatisticsHandler.write_output"><code class="docutils literal notranslate"><span class="pre">ProductionStatisticsHandler.write_output()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-production_configuration.generate_production_grid">generate_production_grid</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.generate_production_grid.GridGeneration"><code class="docutils literal notranslate"><span class="pre">GridGeneration</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.generate_production_grid.GridGeneration.convert_altaz_to_radec"><code class="docutils literal notranslate"><span class="pre">GridGeneration.convert_altaz_to_radec()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.generate_production_grid.GridGeneration.convert_coordinates"><code class="docutils literal notranslate"><span class="pre">GridGeneration.convert_coordinates()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.generate_production_grid.GridGeneration.create_circular_binning"><code class="docutils literal notranslate"><span class="pre">GridGeneration.create_circular_binning()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.generate_production_grid.GridGeneration.generate_grid"><code class="docutils literal notranslate"><span class="pre">GridGeneration.generate_grid()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.generate_production_grid.GridGeneration.serialize_grid_points"><code class="docutils literal notranslate"><span class="pre">GridGeneration.serialize_grid_points()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.generate_production_grid.GridGeneration.serialize_quantity"><code class="docutils literal notranslate"><span class="pre">GridGeneration.serialize_quantity()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-production_configuration.interpolation_handler">interpolation_handler</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.interpolation_handler.InterpolationHandler"><code class="docutils literal notranslate"><span class="pre">InterpolationHandler</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.interpolation_handler.InterpolationHandler.build_grid_points_no_energy"><code class="docutils literal notranslate"><span class="pre">InterpolationHandler.build_grid_points_no_energy()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.interpolation_handler.InterpolationHandler.interpolate"><code class="docutils literal notranslate"><span class="pre">InterpolationHandler.interpolate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.interpolation_handler.InterpolationHandler.plot_comparison"><code class="docutils literal notranslate"><span class="pre">InterpolationHandler.plot_comparison()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-production_configuration.merge_corsika_limits">merge_corsika_limits</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits"><code class="docutils literal notranslate"><span class="pre">CorsikaMergeLimits</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.check_grid_completeness"><code class="docutils literal notranslate"><span class="pre">CorsikaMergeLimits.check_grid_completeness()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.merge_tables"><code class="docutils literal notranslate"><span class="pre">CorsikaMergeLimits.merge_tables()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.plot_grid_coverage"><code class="docutils literal notranslate"><span class="pre">CorsikaMergeLimits.plot_grid_coverage()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.plot_limits"><code class="docutils literal notranslate"><span class="pre">CorsikaMergeLimits.plot_limits()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.read_file_list"><code class="docutils literal notranslate"><span class="pre">CorsikaMergeLimits.read_file_list()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#production_configuration.merge_corsika_limits.CorsikaMergeLimits.write_merged_table"><code class="docutils literal notranslate"><span class="pre">CorsikaMergeLimits.write_merged_table()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api-reference/production_configuration.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024-2025, gammasim-tools, simtools developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>