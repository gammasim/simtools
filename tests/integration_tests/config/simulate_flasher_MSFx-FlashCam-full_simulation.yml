---
applications:
- application: simtools-simulate-flasher
  configuration:
    run_mode: full_simulation
    light_source: MSFx-FlashCam
    model_version: 6.0.2
    output_path: simtools-output
    site: South
    telescope: MSTS-04
    test: true
    log_level: DEBUG
  integration_tests:
  - test_output_files:
    - file: sub/full_simulation_run000001_South_6.0.2_simulate_flasher.out
      path_descriptor: output_path
    - file: sim_telarray/full_simulation_run000001_South_6.0.2_simulate_flasher.simtel.zst
      path_descriptor: output_path
    - expected_log_output:
      pattern:
      - "Sim_telarray finished at"
      - "CORSIKA IACT finished at"
      - "Finished."
      forbidden_pattern:
      - "Error"
      - "had less photons than required and were skipped"
      file: sub/full_simulation_run000001_South_6.0.2_simulate_flasher.out
      path_descriptor: output_path
  model_version_use_current: true
  test_name: full-simulation-msfx-flashcam-6.0.2
schema_name: application_workflow.metaschema
schema_version: 0.4.0
