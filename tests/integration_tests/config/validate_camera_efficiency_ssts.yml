---
applications:
- application: simtools-validate-camera-efficiency
  configuration:
    log_level: debug
    model_version: 6.0.2
    output_path: simtools-output
    site: South
    telescope: SSTS-design
    parameter_version: 0.0.99
    write_reference_nsb_rate_as_parameter: true
    zenith_angle: 0.
  integration_tests:
  - output_file: validate_camera_efficiency_SSTS-design_nsb.pdf
  - output_file: validate_camera_efficiency_SSTS-design_nsb.png
  - output_file: validate_camera_efficiency_SSTS-design_shower.png
  - output_file: validate_camera_efficiency_SSTS-design_shower.pdf
  - output_file: camera_efficiency_South_SSTS-design_za0.0deg_azm000deg_shower_summary.txt
  - output_file: camera_efficiency_South_SSTS-design_za0.0deg_azm000deg_shower.ecsv
  - model_parameter_validation:
      parameter_file: nsb_pixel_rate/nsb_pixel_rate-0.0.99.json
      reference_parameter_name: nsb_pixel_rate
      tolerance: 1.e-1
  - reference_output_file: |
      tests/resources/camera_efficiency/camera_efficiency_South_SSTS-design_za0.0deg_azm000deg_shower_summary.yml
    tolerance: 1.e-3
    test_output_file: camera_efficiency_South_SSTS-design_za0.0deg_azm000deg_shower_summary.yml
  - reference_output_file: |
      tests/resources/camera_efficiency/camera_efficiency_South_SSTS-design_za0.0deg_azm000deg_nsb_summary.yml
    tolerance: 1.e-3
    test_output_file: camera_efficiency_South_SSTS-design_za0.0deg_azm000deg_nsb_summary.yml
  - reference_output_file: |
      tests/resources/camera_efficiency/camera_efficiency_South_SSTS-design_za0.0deg_azm000deg_muon_summary.yml
    tolerance: 1.e-3
    test_output_file: camera_efficiency_South_SSTS-design_za0.0deg_azm000deg_muon_summary.yml
  test_name: SSTS
schema_name: application_workflow.metaschema
schema_version: 0.4.0
